# MQ설치계획서가이드

## 목적
외부시퀀스설계서와 물리아키텍처를 분석하여 Message Queue 설치 계획서를 작성한다. 불필요한 비동기 통신을 배제하고 메시징 아키텍처와 일치하는 설치 계획을 수립한다.

## 입력 (이전 단계 산출물)

| 산출물 | 파일 경로 | 활용 방법 |
|--------|----------|----------|
| 외부 시퀀스 설계서 | `docs/design/sequence/outer/` | 비동기 통신 파악 |
| 물리 아키텍처 | `docs/design/physical/` (존재 시) | 메시징 아키텍처 확인 |

## 출력 (이 단계 산출물)

| 산출물 | 파일 경로 |
|--------|----------|
| MQ 설치 계획서 | `develop/mq/mq-plan-{설치대상환경}.md` |

## 방법론

**작성원칙**
- 외부시퀀스설계서에 없는 불필요한 비동기 통신은 설계하지 않음
- '물리아키텍처 > 6. 메시징 아키텍처'과 일치해야 함
- 그 외 데이터베이스 설치에 필요한 항목은 '물리아키텍처'와 일치해야 함
- (중요) "백킹서비스설치방법"의 가이드를 반드시 준용하여 작성
- Kubernetes에 배포 시 아래 준수
  - "백킹서비스설치방법"을 참조하여 helm chart로 설치하는 계획서 작성
  - 기본 StorageClass를 찾아 기술

**작성순서**
- 준비:
  - 외부시퀀스설계서, 물리아키텍처, 백킹서비스설치방법 분석 및 이해
- 실행:
  - 외부시퀀스설계서에서 MQ을 이용한 비동기 통신이 필요한 곳을 파악
  - Message Queue 설치계획서 작성
  - 결과:
    - mq-plan-{설치대상환경}.md
- 검토:
  - 작성원칙 준수 검토
  - 스쿼드 팀원 리뷰: 누락 및 개선 사항 검토
  - 수정 사항 선택 및 반영

**예제 참고**
https://raw.githubusercontent.com/cna-bootcamp/clauding-guide/refs/heads/main/samples/sample-MQ%EC%84%A4%EC%B9%98%EA%B3%84%ED%9A%8D%EC%84%9C.md

## 출력 형식

- 파일명: `develop/mq/mq-plan-{설치대상환경}.md`
- `{설치대상환경}`은 `dev` 또는 `prod`로 함
- helm chart 기반 설치 계획 포함 (Kubernetes 배포 시)
- 기본 StorageClass 정보 포함

## 품질 기준

- [ ] 물리아키텍처의 메시징 아키텍처와 일치
- [ ] 외부시퀀스설계서에 없는 불필요한 비동기 통신 미설계

## 주의사항

- 외부시퀀스설계서에 명시된 비동기 통신만 설계 (임의 추가 금지)
- 백킹서비스설치방법 가이드 반드시 준용
- Kubernetes 배포 시 helm chart 방식으로 계획서 작성
